---
import { getLangFromUrl, useTranslations } from '../i18n/utils';
import Info from './Info.astro';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<section class="flex flex-col md:flex-row justify-center items-stretch gap-6 w-full py-10 px-4 bg-[#FEFBED]">
  <!-- Terre Amazonienne -->
  <div class="flex-1 bg-white rounded-2xl shadow-md border border-[#D9D9D9] p-6 hover:shadow-lg transition">
    <Info
      video="/infos/coffee.webm"
      text={t('coffee.1.title')}
      subtext={t('coffee.1.description')}
    />
  </div>

  <!-- Qualité d’Excellence -->
  <div class="flex-1 bg-white rounded-2xl shadow-md border border-[#D9D9D9] p-6 hover:shadow-lg transition">
    <Info
      video="/infos/coffee-roasting.webm"
      text={t('coffee.2.title')}
      subtext={t('coffee.2.description')}
    />
  </div>

  <!-- Harmonie Planétaire -->
  <div class="flex-1 bg-white rounded-2xl shadow-md border border-[#D9D9D9] p-6 hover:shadow-lg transition">
    <Info
      video="/infos/coffee-torefaction.webm"
      text={t('coffee.3.title')}
      subtext={t('coffee.3.description')}
    />
  </div>
</section>

<style>
  section {
    transition: all 0.3s ease-in-out;
  }

  /* Responsive layout */
  @media (max-width: 768px) {
    section {
      flex-direction: column;
      align-items: center;
    }

    section > div {
      width: 90%;
    }
  }
</style>
